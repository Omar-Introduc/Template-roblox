-- src/server/Builders/MasterBuilder.server.luau
-- ESTE SCRIPT ES SOLO PARA DESARROLLO. NO DEBE CORRER EN EL JUEGO FINAL.
local ServerScriptService = game:GetService("ServerScriptService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local StarterGui = game:GetService("StarterGui")

-- Referencia a la carpeta de constructores
local BuildersFolder = script.Parent

print("ğŸ—ï¸ [MasterBuilder] Iniciando generaciÃ³n de Prefabs...")

-- Lista de mÃ³dulos constructores a ejecutar
local builders = {
	require(BuildersFolder:WaitForChild("ShopBuilder")),
	require(BuildersFolder:WaitForChild("HUDBuilder"))
}

for _, builderModule in ipairs(builders) do
	if builderModule.Build then
		print("ğŸ”¨ Construyendo: " .. (builderModule.Name or "Sin Nombre"))

		-- Ejecutamos la construcciÃ³n
		-- Le pasamos un 'Target' (donde queremos que aparezca el prefab)
		local success, result = pcall(function()
			builderModule.Build()
		end)

		if success then
			print("âœ… Ã‰xito.")
		else
			warn("âŒ Error: " .. tostring(result))
		end
	else
		warn("âš ï¸ MÃ³dulo sin funciÃ³n .Build()")
	end
end

print("ğŸ [MasterBuilder] GeneraciÃ³n finalizada. Â¡Guarda tus Prefabs y desactiva este script!")
